---
date: 2025-10-21T22:01:00
tags:
  - C++
  - Algorithm
---


# ğŸ“ AcWingâ€”â€”ç®—æ³•åŸºç¡€è¯¾

![Language](https://img.shields.io/badge/Language-C%2B%2B-00599C?style=flat-square&logo=c%2B%2B)
![Topic](https://img.shields.io/badge/Topic-Algorithm-green?style=flat-square)
![License](https://img.shields.io/badge/License-MIT-lightgrey?style=flat-square)
![Created](https://img.shields.io/badge/Created-2025--10--22-lightgrey?style=flat-square)

> ç¬¬ä¸€è®² Â· åŸºç¡€ç®—æ³• Â· C++ æ¨¡æ¿ä¸é¢˜è§£

---

# ç¬¬ä¸€è®² åŸºç¡€ç®—æ³•

## 1 å¿«é€Ÿæ’åº

### 1.1 å¿«é€Ÿæ’åº

> ç»ƒä¹ é“¾æ¥ï¼š
>
> 1ã€leetcode: https://leetcode.cn/problems/sort-an-array/description/
>
> 2ã€æ´›è°·ï¼š
>
> ï¼ˆ1ï¼‰é¢˜ç›®
>
> https://www.luogu.com.cn/problem/U239911
>
> https://www.luogu.com.cn/problem/P1177
>
> ï¼ˆ2ï¼‰é¢˜å•
>
> https://www.luogu.com.cn/training/18907

AcWingé¢˜ç›®

![image-20240112142305656](assets/image-20240112142305656.png)

```c++
#include<iostream>
#include<algorithm>

using namespace std;

const int N = 1e5+7;

int q[N];

//å¿«é€Ÿæ’åºæ¨¡æ¿
void quickSort(int q[], int l, int r){
	if(l>=r) return;
	int i = l -1,j = r + 1,x=q[l+r>>1];
	while(i < j){
		do i++; while(x > q[i]);
		do j--; while(x < q[j]);
		if(i<j) swap(q[i],q[j]);//å®¹æ˜“å¿½ç•¥ifæ¡ä»¶
	}
	quickSort(q,l,j);
	quickSort(q,j+1,r);
}
int main(){
	int n;
	cin>>n;
	for(int i = 0;i<n;i++) scanf("%d",&q[i]);
	quickSort(q,0,n-1);
	for(int i = 0;i<n;i++) printf("%d ",q[i]);
	return 0;
}
```

## 2 å½’å¹¶æ’åº

> æ´›è°·é¢˜å•ï¼š
>
> 1ã€[å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åº - é¢˜å• - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€](https://www.luogu.com.cn/training/784214)
>
> 2ã€[å½’å¹¶æ’åº - é¢˜å• - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€](https://www.luogu.com.cn/training/13545)

### 2.1 å½’å¹¶æ’åº

AcWing é¢˜ç›®ï¼š



![image-20240112142425253](assets/image-20240112142425253.png)

```c++
#include<iostream>

using namespace std;

const int N = 1e5+7;
int q[N],tmp[N];

//å½’å¹¶æ’åºæ¨¡æ¿
void mergeSort(int q[],int l , int r){
	if(l>=r) return;
	int mid = l+r>>1;
	mergeSort(q,l,mid),mergeSort(q,mid+1,r);
	int k = 0,i=l,j=mid+1;
	while(i<=mid&&j<=r){
		if(q[i]<=q[j]) tmp[k++] = q[i++];
		else tmp[k++] = q[j++];
 	}
 	while(i<=mid) tmp[k++] = q[i++];
	while(j<=r) tmp[k++] = q[j++];
 	for(int i = l, j = 0; i<=r; i++,j++) q[i] = tmp[j];//iæ˜¯ä»lå¼€å§‹ï¼Œå®¹æ˜“å†™æˆ0
}
int main(){
	int n;
	cin>>n;
	for(int i = 0; i< n;i++) scanf("%d",&q[i]);
	mergeSort(q,0,n-1);
	for(int i = 0; i< n;i++) printf("%d ",q[i]);
	return 0;
}


```

### 2.2 é€†åºå¯¹çš„æ•°é‡

> [!important]
>
> æ´›è°·ï¼š
>
> 1ã€https://www.luogu.com.cn/problem/U232725
>
> 2ã€[P1908 é€†åºå¯¹ - æ´›è°·](https://www.luogu.com.cn/problem/P1908)

AcWing é¢˜ç›®ï¼š



![image-20240112142506445](assets/image-20240112142506445.png)

```c++
#include<iostream>

using namespace std;

typedef long long LL;

const int N = 1e5+7;

int q[N],tmp[N];

LL mergeSort(int q[],int l ,int r){
	if(l>=r) return 0;
	int mid = l+r>>1;
	LL x = mergeSort(q,l,mid)+mergeSort(q,mid+1,r);//ä¸è¦ç”¨+=
	int k =0,i=l,j=mid+1;
	while(i<=mid&&j<=r){
		if(q[i]<=q[j]) tmp[k++] = q[i++];
		else{
			tmp[k++] = q[j++];
			x+=mid-i+1;
		}
	}
	while(i<=mid) tmp[k++] = q[i++];
	while(j<=r) tmp[k++] = q[j++];
	for(int i= l,j=0;i<=r;i++,j++) q[i]=tmp[j];//iæ˜¯ä»lå¼€å§‹ï¼Œå®¹æ˜“å†™æˆ0
	return x;
} 
int main(){
	int n;
	cin>>n;
	for(int i =0;i<n;i++) cin>>q[i];
	cout<<mergeSort(q,0,n-1)<<endl;
	return 0;
}
```

## 3 äºŒåˆ†

> [!important]
>
> ï¼ˆ1ï¼‰æ´›è°·é¢˜å•ï¼š
>
> 1ã€https://www.luogu.com.cn/training/111
>
> 2ã€https://www.luogu.com.cn/training/545539
>
> 3ã€https://www.luogu.com.cn/training/138949
>
> ï¼ˆ2ï¼‰è¿›é˜¶ï¼šäºŒåˆ†ç­”æ¡ˆæ³•
>
> https://www.luogu.com.cn/training/10364

### 3.1 æ•°çš„èŒƒå›´ï¼ˆæ•´æ•°äºŒåˆ†ï¼‰

æ´›è°·é¢˜ç›®ï¼š

https://www.luogu.com.cn/problem/U383691



Acwing é¢˜ç›®ï¼š



![image-20240112142601494](assets/image-20240112142601494.png)



æ•´æ•°äºŒåˆ†æ³•æ¨¡æ¿ï¼š

```c++
//æ•´æ•°äºŒåˆ†æ³•æ¨¡æ¿
bool check(int x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨

// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼š
int bsearch_1(int l, int r)
{
    while (l < r)
    {
        int mid = l + r >> 1;
        if (check(mid)) r = mid;    // check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨
        else l = mid + 1;
    }
    return l;
}
// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼š
int bsearch_2(int l, int r)
{
    while (l < r)
    {
        int mid = l + r + 1 >> 1;
        if (check(mid)) l = mid;
        else r = mid - 1;
    }
    return l;
}
```

é¢˜è§£ä»£ç ï¼š

```c++
#include <iostream>

using namespace std;

const int N = 100010;

int q[N],n,m;

int main(){
	cin>>n>>m;
	for(int i = 0; i < n ; i++) cin>>q[i];
	while(m--){
		int x;
		cin>>x;
		int l = 0,r= n-1;
		while(l<r){
			int mid=l+r>>1;
			if(x<=q[mid]) r = mid;
			else l = mid+1;
		}
		if(q[l]!=x) cout<<"-1 -1"<<endl;
		else{
			cout<<l<<" ";
			int l = 0 ,r =n-1;
			while(l<r){
				int mid=l+r+1>>1;
				if(x>=q[mid]) l = mid;
				else r = mid-1;
			}
			cout<<l<<endl;		
		}
	}
	return 0;
}
```

### 3.2 æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ï¼ˆæµ®ç‚¹æ•°äºŒåˆ†ï¼‰

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U269029

https://www.luogu.com.cn/problem/T627060



AcWingé¢˜ç›®ï¼š

![image-20240112142635251](assets/image-20240112142635251.png)



æµ®ç‚¹æ•°äºŒåˆ†æ¨¡æ¿ï¼š

```c++
//æµ®ç‚¹æ•°äºŒåˆ†æ¨¡æ¿
bool check(double x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨

double bsearch_3(double l, double r)
{
    const double eps = 1e-6;   // eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚
    while (r - l > eps)
    {
        double mid = (l + r) / 2;
        if (check(mid)) r = mid;
        else l = mid;
    }
    return l;
}
```

é¢˜è§£ä»£ç ï¼š

```c++
#include<iostream>

using namespace std;

int main(){
	double n;
	cin>>n;
	double l = -10000,r=10000;
	while(r-l>1e-8){
		double mid = (l+r)/2;
		if(n<= mid *mid *mid) r=mid;
		else l= mid;
	}
	printf("%lf\n",l);
	return 0;
} 
```

## 4 é«˜ç²¾åº¦

### 4.1 é«˜ç²¾åº¦åŠ æ³•

é¢˜ç›®ï¼š

ç‰›å®¢ï¼š

https://www.nowcoder.com/practice/49e772ab08994a96980f9618892e55b6



æ´›è°·ï¼š

https://www.luogu.com.cn/problem/P1601



![image-20240112142712055](assets/image-20240112142712055.png)

```c++
#include<iostream>
#include<vector>

using namespace std;

//é«˜ç²¾åº¦åŠ æ³•æ¨¡æ¿
vector<int> add(vector<int> &A,vector<int> &B){
	vector<int> C; 
	int t = 0;
	for(int i = 0;i<A.size()||i<B.size();i++){
		if(i < A.size()) t+=A[i];
		if(i < B.size()) t+=B[i];
		C.push_back(t % 10);
		t/=10;
	}
	if(t) C.push_back(1);
	return C;
}


int main(){
	string a,b;
	cin>>a>>b;
	vector<int> A,B;
	for(int i = a.size()-1;i>=0;i--) A.push_back(a[i]-'0');
	for(int i = b.size()-1;i>=0;i--) B.push_back(b[i]-'0');
	vector<int> C = add(A,B);
	for(int i = C.size()-1;i>=0;i--) cout<<C[i];
	cout<<endl;
	return 0;
	
}
```

### 4.2 é«˜ç²¾åº¦å‡æ³•

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/P2142

AcWingé¢˜ç›®ï¼š

![image-20240112142741757](assets/image-20240112142741757.png)

```c++
#include<iostream>
#include<vector>

using namespace std;

bool cmp(vector<int> &A,vector<int> &B){
	if(A.size()!=B.size()) return A.size()>B.size();
	for(int i = A.size()-1;i>=0;i--){
		if(A[i]!=B[i]) return A[i]>B[i];
	}
	return true;//A=Bçš„æƒ…å†µ 
}

//é«˜ç²¾åº¦å‡æ³•æ¨¡æ¿
vector<int> sub(vector<int> &A,vector<int> &B){
	vector<int> C; 
	int t = 0;
	for(int i = 0;i<A.size();i++){
		t = A[i]-t;
		if(i<B.size()) t-=B[i];
		C.push_back((t+10)%10);//åˆäºŒä¸ºä¸€ 
		if(t<0) t=1;
		else t=0;
	}
	while(C.size()>1 && C.back()==0) C.pop_back();//å»æ‰å‰å¯¼0 
	return C;
}


int main(){
	string a,b;
	cin>>a>>b;
	vector<int> A,B;
	for(int i = a.size()-1;i>=0;i--) A.push_back(a[i]-'0');
	for(int i = b.size()-1;i>=0;i--) B.push_back(b[i]-'0');
	vector<int> C;
	if(cmp(A,B)) C = sub(A,B);
	else {
		C = sub(B,A);
		cout<<"-";
	}
	for(int i = C.size()-1;i>=0;i--) cout<<C[i];
	cout<<endl;
	return 0;
	
}
```

### 4.3 é«˜ç²¾åº¦ä¹˜æ³•

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U371642



AcWingé¢˜ç›®ï¼š

![image-20240112142804068](assets/image-20240112142804068.png)

```c++
#include<iostream>
#include<vector>

using namespace std;

//é«˜ç²¾åº¦ä¹˜æ³•æ¨¡æ¿ï¼ˆé«˜ç²¾åº¦ä¹˜ä½ç²¾åº¦ï¼‰
vector<int> mul(vector<int> &A,int b){
	vector<int> C; 
	int t = 0;
	for(int i = 0;i<A.size() || t;i++){
		if(i<A.size()) t+=A[i]*b;
		C.push_back(t % 10);
		t/=10;
	}
	while(C.size()>1 && C.back()==0) C.pop_back();//å»æ‰å‰å¯¼0 
	return C;
}


int main(){
	string a;
	int b;
	cin>>a>>b;
	vector<int> A;
	for(int i = a.size()-1;i>=0;i--) A.push_back(a[i]-'0');
	vector<int> C = mul(A,b);
	for(int i = C.size()-1;i>=0;i--) cout<<C[i];
	cout<<endl;
	return 0;
	
}
```

### 4.4 é«˜ç²¾åº¦é™¤æ³•

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/P1480



AcWingé¢˜ç›®ï¼š

![image-20240112142832710](assets/image-20240112142832710.png)

```c++
#include<iostream>
#include<algorithm>
#include<vector>

using namespace std;

//é«˜ç²¾åº¦é™¤æ³•æ¨¡æ¿ï¼ˆé«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦ï¼‰
vector<int> div(vector<int> &A,int b,int &t){
	vector<int> C; 
	t = 0;
	for(int i = A.size() - 1; i>=0; i--){
		t = t*10+A[i]; 
		C.push_back(t / b);
		t %= b;
	}
	reverse(C.begin(),C.end());//Cæ˜¯æ­£åºçš„,è¦å…ˆåè½¬
	while(C.size()>1 && C.back()==0) C.pop_back();//å»æ‰å‰å¯¼0 
	return C;
}


int main(){
	string a;
	int b;
	int t;//ä½™æ•° 
	cin>>a>>b;
	vector<int> A;
	for(int i = a.size()-1;i>=0;i--) A.push_back(a[i]-'0');
	vector<int> C = div(A,b,t);
	for(int i = C.size() - 1;i >= 0;i--) cout<<C[i];
	cout<<endl;
	cout<<t<<endl;
	return 0;
	
}
```

## 5 å‰ç¼€å’Œä¸å·®åˆ†

### 5.1 å‰ç¼€å’Œï¼ˆä¸€ç»´ï¼‰

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U410636

https://www.luogu.com.cn/problem/P8218



AcWingé¢˜ç›®ï¼š



![image-20240112142944977](assets/image-20240112142944977.png)

```c++
//ä¸€ç»´å‰ç¼€å’Œå…¬å¼
S[i] = a[1] + a[2] + ... a[i]
a[l] + ... + a[r] = S[r] - S[l - 1]
```

é¢˜è§£ä»£ç ï¼š

```c++
#include <iostream>

using namespace std;

const int N = 1e5+10;

int a[N],s[N];

int main(){
	int n,m;
	cin>>n>>m;
	for(int i = 1; i <= n ; i++) cin>>a[i];
	for(int i = 1; i <= n ; i++) s[i] = s[i-1]+a[i];//å‰ç¼€å’Œæ•°ç»„ 
	while(m--){
		int l,r;
		cin>>l>>r;
		cout<<s[r] - s[l-1]<<endl;
	}
	return 0;
}
```

### 5.2 å­çŸ©é˜µçš„å’Œï¼ˆäºŒç»´ï¼‰

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U388817

 https://www.luogu.com.cn/problem/T271585

https://www.luogu.com.cn/problem/U567555



AcWingé¢˜ç›®ï¼š

![image-20240112150043615](assets/image-20240112150043615.png)

```c++
//äºŒç»´å‰ç¼€å’Œå…¬å¼
S[i, j] = ç¬¬iè¡Œjåˆ—æ ¼å­å·¦ä¸Šéƒ¨åˆ†æ‰€æœ‰å…ƒç´ çš„å’Œ
ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µçš„å’Œä¸ºï¼š
S[x2, y2] - S[x1 - 1, y2] - S[x2, y1 - 1] + S[x1 - 1, y1 - 1]
```

é¢˜è§£ä»£ç ï¼š

```c++
#include <iostream>

using namespace std;

const int N = 1e3+10;

int a[N][N],s[N][N];

int main(){
	int n,m,q;
	cin>>n>>m>>q;
	for(int i = 1 ;i<= n ;i++) 
		for(int j = 1 ;j<= m ;j++) 
			cin>>a[i][j];
	//åˆå§‹åŒ–å‰ç¼€å’Œæ•°ç»„
	for(int i = 1 ;i<= n ;i++) 
		for(int j = 1 ;j<= m ;j++) 
			s[i][j] = s[i][j-1]+s[i-1][j]-s[i-1][j-1]+a[i][j];//å…³é”®å…¬å¼ 	
	while(q--){
		int x1,y1,x2,y2;
		cin>>x1>>y1>>x2>>y2;
		cout<<s[x2][y2]-s[x2][y1-1]-s[x1-1][y2]+s[x1-1][y1-1]<<endl;//å…³é”®å…¬å¼ 
	} 
	return 0;
	
}
```

### 5.3 å·®åˆ†ï¼ˆå‰ç¼€å’Œçš„é€†è¿ç®—ï¼‰

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/P2367



AcWingé¢˜ç›®ï¼š

![image-20240114102844804](assets/image-20240114102844804.png)

```c++
//ä¸€ç»´å·®åˆ†
ç»™åŒºé—´[l, r]ä¸­çš„æ¯ä¸ªæ•°åŠ ä¸Šcï¼šB[l] += c, B[r + 1] -= c
```

é¢˜è§£ä»£ç ï¼š

```c++
#include<iostream>

using namespace std;

const int N = 1e5+10;

int a[N],b[N];

void insert(int l ,int r, int c){
	b[l]+=c;
	b[r+1]-=c;
}

int main(){
	int n,m;
	cin>>n>>m;
	for(int i = 1 ;i <=n;i++) cin>>a[i];//aæ˜¯å‰ç¼€å’Œæ•°ç»„ 
	for(int i = 1 ;i <=n;i++) insert(i,i,a[i]);//åˆå§‹åŒ–bæ•°ç»„
	//å¯¹bæ•°ç»„è¿›è¡Œæ“ä½œ 
	while(m--){
		int l,r,c;
		cin>>l>>r>>c;
		insert(l,r,c);
	}
	for(int i = 1 ;i <=n;i++) a[i] = a[i-1] +b[i];//å¯¹bæ•°ç»„æ“ä½œå®Œåé‡æ–°ç»™aèµ‹ä¸€éå€¼
	for(int i = 1 ;i <=n;i++) cout<<a[i]<<" ";
	cout<<endl;
	return 0;
}
```

### 5.4 å·®åˆ†çŸ©é˜µ

æ´›è°·ï¼š

  https://www.luogu.com.cn/problem/U223961



AcWingé¢˜ç›®ï¼š

![image-20240114154838383](assets/image-20240114154838383.png)

```c++
//äºŒç»´å·®åˆ†
ç»™ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ åŠ ä¸Šcï¼š
S[x1, y1] += c, S[x2 + 1, y1] -= c, S[x1, y2 + 1] -= c, S[x2 + 1, y2 + 1] += c
```

é¢˜è§£ä»£ç ï¼š

```c++
#include<iostream>

using namespace std;

const int N = 1e3+10;

int n,m,q;
int a[N][N],b[N][N];

void insert(int x1,int y1, int x2, int y2,int c){
	b[x1][y1]+=c;
	b[x1][y2+1]-=c;
	b[x2+1][y1]-=c;
	b[x2+1][y2+1]+=c;
} 

int main(){
	cin>>n>>m>>q;
	for(int i = 1 ; i <= n;i++)
		for(int j = 1 ; j <= m;j++)
			cin>>a[i][j];
	//ç”±å‰ç¼€å’Œæ•°ç»„aåˆå§‹åŒ–å‡ºå·®åˆ†æ•°ç»„b
	for(int i = 1 ; i <= n;i++)
		for(int j = 1 ; j <= m;j++)
			insert(i,j,i,j,a[i][j]);
	while(q--){
		int x1,y1,x2,y2,c;
		cin>>x1>>y1>>x2>>y2>>c;
		insert(x1,y1,x2,y2,c);
	}
	//bæ•°ç»„åŠ å¥½åé‡æ–°ç»™å‰ç¼€å’Œæ•°ç»„aèµ‹ä¸€éå€¼ 
	for(int i = 1 ; i <= n;i++)
		for(int j = 1 ; j <= m;j++)
			a[i][j] = a[i-1][j]+a[i][j-1]-a[i-1][j-1]+b[i][j];
    //è¾“å‡ºç»“æœ
	for(int i = 1 ; i <= n;i++){
		for(int j = 1 ; j <= m;j++)
			cout<<a[i][j]<<" ";
		cout<<endl;
	}		 
	return 0;
}
```

## 6 åŒæŒ‡é’ˆç®—æ³•

### 6.1 æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U224090



AcWingé¢˜ç›®ï¼š

![image-20240115101055126](assets/image-20240115101055126.png)

```c++
//åŒæŒ‡é’ˆç®—æ³•æ¨¡æ¿
for (int i = 0, j = 0; i < n; i ++ )
{
    while (j < i && check(i, j)) j ++ ;

    // å…·ä½“é—®é¢˜çš„é€»è¾‘
}
å¸¸è§é—®é¢˜åˆ†ç±»ï¼š
    (1) å¯¹äºä¸€ä¸ªåºåˆ—ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆç»´æŠ¤ä¸€æ®µåŒºé—´
    (2) å¯¹äºä¸¤ä¸ªåºåˆ—ï¼Œç»´æŠ¤æŸç§æ¬¡åºï¼Œæ¯”å¦‚å½’å¹¶æ’åºä¸­åˆå¹¶ä¸¤ä¸ªæœ‰åºåºåˆ—çš„æ“ä½œ
```

é¢˜è§£ä»£ç ï¼š

```c++
#include<iostream>

using namespace std;

const int N = 1e5+10;

int s[N],a[N];

int main(){
	int n;
	cin>>n;
	for(int i = 0 ;i < n ; i ++) cin>>a[i];
	int res = 1;//æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—çš„é•¿åº¦ 
	for(int i=0,j=0;i<n;i++){
		s[a[i]]++;
		while(s[a[i]]>1){
			s[a[j]]--;
			j++;			
		}
		res = max(res,i-j+1);
	}
	cout<<res<<endl;
}
```

### 6.2 æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ

æ´›è°·ï¼š

  https://www.luogu.com.cn/problem/U268985



AcWingé¢˜ç›®ï¼š

![image-20240115103002597](assets/image-20240115103002597.png)

```c++
#include<iostream>

using namespace std;

const int N = 1e5+10;

int a[N],b[N];

int main(){
	int n,m,x;
	cin>>n>>m>>x;
	for(int i =0 ;i<n;i++) cin>>a[i];
	for(int i =0 ;i<m;i++) cin>>b[i];
    //å½“a[i]+b[j]>xæ—¶ï¼Œjå¾€å·¦èµ°ï¼Œb[j]å˜å°ï¼Œå’Œä¹Ÿå˜å°ï¼›å½“a[i]+b[j]<xæ—¶ï¼Œiå¾€å³èµ°ï¼Œa[i]å˜å¤§ï¼Œå’Œä¹Ÿå˜å¤§ï¼›æ€»ç»“:iå°±æ˜¯åªèƒ½å¾€å³èµ°çš„ï¼Œjå°±æ˜¯åªèƒ½å¾€å·¦èµ°çš„
	for(int i = 0 ,j = m - 1; i<n;i++){
		while(j>0&&a[i]+b[j]>x) j--;
		if(a[i]+b[j] == x){
			cout<<i<<" "<<j<<endl;
			break;
		}
	}
	return 0;
}
```

### 6.3 åˆ¤æ–­å­åºåˆ—

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U269021



AcWingé¢˜ç›®ï¼š

![image-20240115152103661](assets/image-20240115152103661.png)

```c++
#include<iostream>

using namespace std;

const int N = 1e5+10;

int a[N],b[N];

int main(){
	int n,m;
	cin>>n>>m;
	for(int i =0 ; i<n;i++) cin>>a[i];
	for(int i =0 ; i<m;i++) cin>>b[i];
	int i =0,j=0;
	while(i<n&&j<m){
		if(a[i] == b[j]) i++;
		j++;
	}//ä»¥ä¸Šwhileå¾ªç¯å…¶å®ä¹Ÿå¯ä»¥å†™æˆåŒæŒ‡é’ˆç®—æ³•æ¨¡æ¿é‡Œçš„forå¾ªç¯æ ¼å¼ï¼Œåªæ˜¯iå’Œjçš„ä½œç”¨åŸŸçš„é—®é¢˜
	if(i == n) cout<<"Yes"<<endl;
	else cout<<"No"<<endl;
	return 0;
}
```

## 7 ä½è¿ç®—

### 7.1 äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U199197



AcWingé¢˜ç›®ï¼š

![image-20240115155536401](assets/image-20240115155536401.png)



> ä½è¿ç®—æ¨¡æ¿
> 1.æ±‚nçš„äºŒè¿›åˆ¶ä¸­çš„ç¬¬kä½æ•°å­—ï¼ˆä»æœ€ä½ä½å¼€å§‹æ•°ï¼Œæœ€ä½ä½æ˜¯ç¬¬0ä½ï¼Œå…ˆè®©xçš„äºŒè¿›åˆ¶å³ç§»kä½ï¼Œå†å’Œ1çš„äºŒè¿›åˆ¶æ•°è¿›è¡Œä¸è¿ç®—;æ¯”å¦‚n=101010000,k=4,å°±æ˜¯è¦å–101010000çš„ç¬¬å››ä½æ•°å­—ä¹Ÿå°±æ˜¯1ï¼Œå…ˆå³ç§»4ä½æˆ10101ï¼Œå†å’Œ00001ä¸è¿ç®—å¾—1ï¼Œä»»ä½•æ•°ä¸1è¿›è¡Œä¸è¿ç®—éƒ½å¾—æœ€ä½ä½ï¼‰ï¼Œä»£ç å®ç°ï¼š
> `int result = n>>k&1;`
>
> 2.è¿”å›nçš„äºŒè¿›åˆ¶çš„ä»æœ€ä½ä½å¼€å§‹æ•°çš„ç¬¬ä¸€ä½1åŠä½ä½çš„æ‰€æœ‰æ•°å­—ï¼ˆæ¯”å¦‚101010000å°±æ˜¯è¿”å›10000ï¼‰ï¼Œå¦‚æœ x çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯æ­£æ•°ï¼Œé‚£ä¹ˆ -x çš„äºŒè¿›åˆ¶è¡¨ç¤ºå°±æ˜¯ x çš„è¡¥ç ,å³xä¸xå¾—è¡¥ç è¿›è¡Œä¸è¿ç®—ï¼Œæ¯”å¦‚101010000ï¼Œå³101010000&010110000ï¼Œå¾—10000ã€‚ä»£ç å®ç°ï¼š
>
> ```c++
> int lowbit(int x){
> 	return x&-x;
> ```





```c++
#include<iostream>

using namespace std;

const int N = 1e5+10;

int a[N];

int lowbit(int x){
	return x&-x;
}

int main(){
	int n;
	cin>>n;
	for(int i = 0 ; i< n ; i++) cin>>a[i];
	for(int i = 0 ; i< n ; i++){
		int t = 0;
		while(a[i]){
			a[i]-=lowbit(a[i]);
			t++;
		}
		cout<<t<<" "; 
	}
	cout<<endl;
}
```

## 8 ç¦»æ•£åŒ–

### 8.1 åŒºé—´å’Œ

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U415396



AcWingé¢˜ç›®ï¼š

![image-20240116135755784](assets/image-20240116135755784.png)

```c++
//ç¦»æ•£åŒ–æ¨¡æ¿
vector<int> alls;//å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼
sort(alls.begin(),alls.end();//å°†æ‰€æœ‰å€¼æ’åº
alls.erase(unique(alls.begin(), alls.end()), alls.end());//å»æ‰é‡å¤å…ƒç´ 
//äºŒåˆ†æ±‚å‡ºxå¯¹åº”çš„ç¦»æ•£åŒ–çš„å€¼
int find(int x)//æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½®
{
    int l = 0, r = alls.size()-1;
    while(l < r)
    {
        int mid = l + r >> 1;
        if (alls[mid] >= x) r = mid;
        else l =  mid + 1;
    }
    return r+1;//æ˜ å°„åˆ°1,2ï¼Œ.n,å› ä¸ºå‰ç¼€å’Œä¸€èˆ¬ä¸‹æ ‡æ˜¯ä»1å¼€å§‹çš„
}                
```



![åŒºé—´å’Œ](assets/ç¦»æ•£åŒ–ç¤ºæ„å›¾1.png)

<img src="assets/ç¦»æ•£åŒ–ç¤ºæ„å›¾2.png" alt="åŒºé—´å’Œ2" />

é¢˜è§£ä»£ç ï¼š

```c++
#include<iostream>
#include<vector>
#include<algorithm>

using namespace std;

const int N = 3e5+10;

typedef pair<int,int> PII;

int a[N],s[N];//a[N]æ˜¯å­˜å‚¨æ’å…¥åæ ‡çš„å€¼çš„æ•°ç»„ï¼Œå¹¶ä¸”æ’å…¥åæ ‡å’Œaçš„ç´¢å¼•ç›¸å¯¹åº”ï¼Œsæ˜¯açš„å‰ç¼€å’Œæ•°ç»„ï¼Œä¸Šå›¾ä¸­çš„aå’Œsæ•°ç»„æ˜¯ä»ä¸‹æ ‡1å¼€å§‹ç”»çš„ï¼ˆå›¾æœ‰ç‚¹é”™è¯¯ï¼‰
vector<int> alls;//allsæ˜¯å­˜å‚¨æ‰€æœ‰åæ ‡çš„æ•°ç»„ï¼Œä¸Šå›¾ä¸­çš„allsæ•°ç»„æ˜¯ä»ä¸‹æ ‡0å¼€å§‹ç”»çš„ï¼Œæ‰€ä»¥findé‚£é‡Œè¦returnçš„rè¦åŠ 1ï¼Œæ‰èƒ½æ­£ç¡®æ˜ å°„åˆ°aå’Œsæ•°ç»„ï¼ˆå›¾æœ‰ç‚¹é”™è¯¯ï¼‰
vector<PII> add,query;//addæ˜¯å­˜å‚¨æ’å…¥åæ ‡å’Œæ’å…¥å€¼çš„å®¹å™¨ï¼Œqueryæ˜¯å­˜å‚¨æŸ¥è¯¢åæ ‡çš„å®¹å™¨

//è¿”å›allsæ•°ç»„ä¸­xå€¼çš„ä½ç½® 
int find(int x){
	int l = 0, r = alls.size() -1;
	while(l<r){
		int mid = l+r>>1;
		if( x <= alls[mid]) r = mid;
		else l = mid+1;
	}
	return r+1;
}

int main(){
	int n,m;
	cin>>n>>m;
	while(n--){
		int x,c;
		cin>>x>>c;
		add.push_back({x,c});
		alls.push_back(x);
	}
	
	while(m--){
		int l,r;
		cin>>l>>r;
		query.push_back({l,r});
		alls.push_back(l);
		alls.push_back(r);
	}
	
	//å»é‡
	sort(alls.begin(),alls.end());
	alls.erase(unique(alls.begin(),alls.end()),alls.end()); 
	
	//æ ¹æ®allsä¸­å­˜å‚¨çš„åæ ‡å°†è¦åŠ çš„å€¼æ˜ å°„åˆ°aæ•°ç»„ä¸­ 
	for(int i = 0; i < add.size();i++){
		int x = find(add[i].first);
		a[x]+=add[i].second;
	}
	
	for(int i = 1;i <= alls.size(); i++) s[i]= s[i-1] + a[i];
	
	//è®¡ç®—åŒºé—´å’Œ 
	for(int i = 0; i < query.size();i++){
		int l = find(query[i].first);
		int r = find(query[i].second);
		cout<<s[r]-s[l-1]<<endl;
	}
	
	return 0;
	
} 
 

```

## 9 åŒºé—´åˆå¹¶

### 9.1 åŒºé—´åˆå¹¶

æ´›è°·ï¼š

https://www.luogu.com.cn/problem/U282660

AcWingé¢˜ç›®ï¼š

![image-20240117100135593](assets/image-20240117100135593.png)

```c++
//åŒºé—´åˆå¹¶æ¨¡æ¿
//å°†æ‰€æœ‰å­˜åœ¨äº¤é›†çš„åŒºé—´åˆå¹¶
void merge(vector<PII> &segs){
	vector<PII> res;
	sort(segs.begin(),segs.end());
	int st = -2e9, ed = -2e9;
	for(int i = 0 ; i< segs.size(); i++){
		if(segs[i].first > ed){
			st = segs[i].first,ed = segs[i].second;
			res.push_back({st,ed}); 
		}
		else ed = max(ed,segs[i].second); 
	}
	segs = res;
}
```

é¢˜è§£ä»£ç ï¼š

```c++
#include<iostream>
#include<algorithm>
#include<vector>

using namespace std;

const int N = 1e5+10;

typedef pair<int,int> PII;

void merge(vector<PII> &segs){
	vector<PII> res;
	sort(segs.begin(),segs.end());
	int st = -2e9, ed = -2e9;
	for(int i = 0 ; i< segs.size(); i++){
		if(segs[i].first > ed){
			st = segs[i].first,ed = segs[i].second;
			res.push_back({st,ed}); 
		}
		else ed = max(ed,segs[i].second); 
	}
	segs = res;
}

int main(){
	vector<PII> segs;
	int n;
	cin>>n;
	while(n--){
		int l,r;
		cin>>l>>r;
		segs.push_back({l,r});
	}
	merge(segs);
	cout<<segs.size()<<endl;
	return 0;
}

```
